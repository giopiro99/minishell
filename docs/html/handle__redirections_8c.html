<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Minishell: redirections/handle_redirections.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Minishell
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e4bae36f9d9f229d2eb6c4aea95806a8.html">redirections</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">handle_redirections.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="redirections_8h_source.html">redirections.h</a>&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for handle_redirections.c:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="handle__redirections_8c__incl.svg" width="1128" height="359"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2834314002a1f4ef4af82f95159b0a34" id="r_a2834314002a1f4ef4af82f95159b0a34"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handle__redirections_8c.html#a2834314002a1f4ef4af82f95159b0a34">ft_handle_infile_redir</a> (<a class="el" href="common__utils_8h.html#aead06bc7a81ebdd60cbdcf6b3b8e51d4">t_token</a> *tokens, <a class="el" href="common__utils_8h.html#a346da7b9146a9e299f83267aeee1696c">t_type</a> type, <a class="el" href="common__utils_8h.html#aa3d21e1567b21e23ec928b1eb405fe4b">t_env</a> *env, int *saved_stdin)</td></tr>
<tr class="memdesc:a2834314002a1f4ef4af82f95159b0a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles input redirection from file or heredoc.  <br /></td></tr>
<tr class="separator:a2834314002a1f4ef4af82f95159b0a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4509a43f47ed881eb2d81fb81458466" id="r_aa4509a43f47ed881eb2d81fb81458466"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handle__redirections_8c.html#aa4509a43f47ed881eb2d81fb81458466">handle_redirection_without_command</a> (<a class="el" href="common__utils_8h.html#a346da7b9146a9e299f83267aeee1696c">t_type</a> type, <a class="el" href="common__utils_8h.html#aead06bc7a81ebdd60cbdcf6b3b8e51d4">t_token</a> *tokens, <a class="el" href="common__utils_8h.html#aa3d21e1567b21e23ec928b1eb405fe4b">t_env</a> *env)</td></tr>
<tr class="memdesc:aa4509a43f47ed881eb2d81fb81458466"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles redirections without an associated command.  <br /></td></tr>
<tr class="separator:aa4509a43f47ed881eb2d81fb81458466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c37fefb1291d3f8d0dc91e8c096334" id="r_ab2c37fefb1291d3f8d0dc91e8c096334"><td class="memItemLeft" align="right" valign="top"><a class="el" href="common__utils_8h.html#a346da7b9146a9e299f83267aeee1696c">t_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handle__redirections_8c.html#ab2c37fefb1291d3f8d0dc91e8c096334">handle_redirection</a> (<a class="el" href="common__utils_8h.html#a24a12f850512818e5b2a4d1e3c6b6545">t_cmd</a> *cmd, <a class="el" href="common__utils_8h.html#a346da7b9146a9e299f83267aeee1696c">t_type</a> type, <a class="el" href="common__utils_8h.html#aead06bc7a81ebdd60cbdcf6b3b8e51d4">t_token</a> *tokens, <a class="el" href="common__utils_8h.html#aa3d21e1567b21e23ec928b1eb405fe4b">t_env</a> *env)</td></tr>
<tr class="memdesc:ab2c37fefb1291d3f8d0dc91e8c096334"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles redirection associated with a command.  <br /></td></tr>
<tr class="separator:ab2c37fefb1291d3f8d0dc91e8c096334"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2834314002a1f4ef4af82f95159b0a34" name="a2834314002a1f4ef4af82f95159b0a34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2834314002a1f4ef4af82f95159b0a34">&#9670;&#160;</a></span>ft_handle_infile_redir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ft_handle_infile_redir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__utils_8h.html#aead06bc7a81ebdd60cbdcf6b3b8e51d4">t_token</a> *&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__utils_8h.html#a346da7b9146a9e299f83267aeee1696c">t_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__utils_8h.html#aa3d21e1567b21e23ec928b1eb405fe4b">t_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>saved_stdin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles input redirection from file or heredoc. </p>
<p>If the type is REDIR_IN, opens the file for reading and saves the original stdin. If the type is HEREDOC, creates a temporary file with heredoc content and redirects stdin to it. Returns -1 on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tokens</td><td>Current token containing the file name or heredoc </td></tr>
    <tr><td class="paramname">type</td><td>Redirection type (REDIR_IN or HEREDOC) </td></tr>
    <tr><td class="paramname">env</td><td>Shell environment, needed for heredoc </td></tr>
    <tr><td class="paramname">saved_stdin</td><td>Pointer to save the original stdin file descriptor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 on success, -1 on error </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="handle__redirections_8c_a2834314002a1f4ef4af82f95159b0a34_cgraph.svg" width="1478" height="962"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="handle__redirections_8c_a2834314002a1f4ef4af82f95159b0a34_icgraph.svg" width="1256" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab2c37fefb1291d3f8d0dc91e8c096334" name="ab2c37fefb1291d3f8d0dc91e8c096334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2c37fefb1291d3f8d0dc91e8c096334">&#9670;&#160;</a></span>handle_redirection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common__utils_8h.html#a346da7b9146a9e299f83267aeee1696c">t_type</a> handle_redirection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__utils_8h.html#a24a12f850512818e5b2a4d1e3c6b6545">t_cmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__utils_8h.html#a346da7b9146a9e299f83267aeee1696c">t_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__utils_8h.html#aead06bc7a81ebdd60cbdcf6b3b8e51d4">t_token</a> *&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__utils_8h.html#aa3d21e1567b21e23ec928b1eb405fe4b">t_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles redirection associated with a command. </p>
<p>Handles a redirection inside a command.</p>
<p>Calls handle_redirection_without_command to perform low-level redirection handling. If the command exists, updates the input or output field of the command based on the type. Also manages the assignment of the filename or heredoc in the command structure. Returns the redirection type or -1 on error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>Pointer to the command structure (can be NULL) </td></tr>
    <tr><td class="paramname">type</td><td>Redirection type to handle </td></tr>
    <tr><td class="paramname">tokens</td><td>List of tokens with redirection information </td></tr>
    <tr><td class="paramname">env</td><td>Shell environment </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_type Handled redirection type or -1 on error </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="handle__redirections_8c_ab2c37fefb1291d3f8d0dc91e8c096334_cgraph.svg" width="1867" height="1048"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="handle__redirections_8c_ab2c37fefb1291d3f8d0dc91e8c096334_icgraph.svg" width="851" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa4509a43f47ed881eb2d81fb81458466" name="aa4509a43f47ed881eb2d81fb81458466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4509a43f47ed881eb2d81fb81458466">&#9670;&#160;</a></span>handle_redirection_without_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int handle_redirection_without_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__utils_8h.html#a346da7b9146a9e299f83267aeee1696c">t_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__utils_8h.html#aead06bc7a81ebdd60cbdcf6b3b8e51d4">t_token</a> *&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__utils_8h.html#aa3d21e1567b21e23ec928b1eb405fe4b">t_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles redirections without an associated command. </p>
<p>Handles a redirection even without an associated command.</p>
<p>Iterates tokens until it finds FILE_ or DELIMITER and opens the corresponding file based on the redirection type (OUT, APPEND, IN, HEREDOC). For redirected input, uses ft_handle_infile_redir. Closes unnecessary opened file descriptors. Prints an error and returns -1 if file opening fails.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Redirection type (REDIR_OUT, REDIR_APPEND, REDIR_IN, HEREDOC) </td></tr>
    <tr><td class="paramname">tokens</td><td>List of tokens to get the file or delimiter from </td></tr>
    <tr><td class="paramname">env</td><td>Shell environment </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Redirection type on success, -1 on error </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="handle__redirections_8c_aa4509a43f47ed881eb2d81fb81458466_cgraph.svg" width="1676" height="962"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="handle__redirections_8c_aa4509a43f47ed881eb2d81fb81458466_icgraph.svg" width="1050" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
